title: ".net 中 GridViewRow使用字段名来访问数据，而不是使用索引"
date: 2015-04-23 18:26:30
categories: 技术
tags: asp.net
---
在行绑定事件中，项目中很多的字段都对某些字段进行处理，而且这个函数写的挺长，上次就是因为加新功能，多替换了几个以所以为标记进行操作的代码，导致了一个很严重的bug。

数字索引真的不明显，容易搞错，于是开始思考有什么好的办法，来避免使用数字索引，微软的东西应该自带了，终于让我找到了。
```
DataView dv = e.row.dataitem as DataView;
dv["字段1"] = "字段1的值";//赋值
```

上面的代码可读性瞬间上升，比e.row.cells[1]的写法好多了。
虽然上面的代码可以获取值和设置值，但是上面的代码不能获取gridview中的控件。

##思考：
    怎么在不使用数字索引的情况下，获取gridview绑定的控件。（e.row.cells[1].findcontrols["控件1"]，怎么去掉索引1？）
 使用e.row.findcontrols["控件1"]就可以了